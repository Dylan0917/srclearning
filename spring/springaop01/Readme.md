## AOP的基本概念

1. Advice(通知):AOP在特定的切入点上执行的增强处理，也就是被拓展的功能，包含before,after,afterReturning,afterThrowing,around
2. Aspect(切面):通常是一个类，通知所在的类，里面可以定义切入点和通知，是对横切关注点的抽象。
3. Pointcut(切入点):就是带有通知的连接点，在程序中主要体现为书写切入点表达式，指定对谁进行功能拓展也就是加通知
4. JointPoint(连接点):程序执行过程中明确的点，一般是方法的调用，还可以是字段或则构造器
5. 目标对象：代理的目标对象
6. Waving(织入)：将切面应用到目标对象并导致代理对象创建的过程





①前置通知（Before）：在连接点执行前执行该通知

②正常返回通知（AfterReturning）：在连接点正常执行完后执行该通知，若目标方法执行异常则不会执行该通知

③异常返回通知（AfterThrowing）：在连接点执行抛出异常时执行该通知

④后置通知（after/finally）：在连接点执行完成后（不管成功、失败、异常）都会执行该通知

⑤环绕通知（Around）：围绕在连接点前后



正常执行顺序

②前置通知：@Before

③连接点方法执行

⑥正常返回通知：@AfterReturning

⑤后置通知：@After



异常执行顺序

②前置通知：@Before

③连接点方法执行

⑥异常返回通知：@AfterReturning

⑤后置通知：@After



**execution(\* com.sample.service.impl..\*.\*(..))**

**解释如下：**



| **符号**                    | **含义**                                                 |
| --------------------------- | -------------------------------------------------------- |
| **execution（） **          | **表达式的主体； **                                      |
| **第一个”\*“符号\**         | ***\*表示返回值的类型任意；\** **                        |
| **com.sample.service.impl** | **AOP所切的服务的包名，即，我们的业务部分**              |
| **包名后面的”..“**          | **表示当前包及子包**                                     |
| **第二个”\*“**              | **表示类名，\*即所有类。此处可以自定义，下文有举例**     |
| **.\*(..)**                 | **表示任何方法名，括号表示参数，两个点表示任何参数类型** |